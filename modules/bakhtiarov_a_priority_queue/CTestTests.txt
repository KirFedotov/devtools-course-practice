set(prefix "${MODULE}")

add_test(
    NAME ${prefix}_run
    COMMAND ${APPLICATION}
)
set_tests_properties (${prefix}_run PROPERTIES
    PASS_REGULAR_EXPRESSION "Usage:"
    LABELS "${MODULE}"
)

add_test(
    NAME ${prefix}_run_help
    COMMAND ${APPLICATION} --help
)
set_tests_properties (${prefix}_run_help PROPERTIES
    PASS_REGULAR_EXPRESSION "Usage:"
    LABELS "${MODULE}"
)

add_test(
    NAME ${prefix}_run_push
    COMMAND ${APPLICATION} 5 push 10 1
)
set_tests_properties (${prefix}_run_push PROPERTIES
    PASS_REGULAR_EXPRESSION "Pushed"
    LABELS "${MODULE}"
)

add_test(
    NAME ${prefix}_run_pop
    COMMAND ${APPLICATION} 5 pop
)
set_tests_properties (${prefix}_run_pop PROPERTIES
    PASS_REGULAR_EXPRESSION "Queue is empty, cannot pop."
    LABELS "${MODULE}"
)

add_test(
    NAME ${prefix}_run_front
    COMMAND ${APPLICATION} 5 front
)
set_tests_properties (${prefix}_run_front PROPERTIES
    PASS_REGULAR_EXPRESSION "Queue is empty."
    LABELS "${MODULE}"
)

add_test(
    NAME ${prefix}_run_back
    COMMAND ${APPLICATION} 5 back
)
set_tests_properties (${prefix}_run_back PROPERTIES
    PASS_REGULAR_EXPRESSION "Queue is empty."
    LABELS "${MODULE}"
)

add_test(
    NAME ${prefix}_run_invalid_operation
    COMMAND ${APPLICATION} 5 invalid_operation
)
set_tests_properties (${prefix}_run_invalid_operation PROPERTIES
    PASS_REGULAR_EXPRESSION "Error: Operation must be 'push', 'pop', 'front' or 'back'."
    LABELS "${MODULE}"
)

add_test(
    NAME ${prefix}_run_negative_size
    COMMAND ${APPLICATION} -1 push 10 1
)
set_tests_properties (${prefix}_run_negative_size PROPERTIES
    PASS_REGULAR_EXPRESSION "Invalid arguments."
    LABELS "${MODULE}"
)